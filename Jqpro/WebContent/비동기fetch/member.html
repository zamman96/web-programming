<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="../CSS/public.css"> 
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="http://localhost/Jqpro/js/jquery-3.7.1.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
$(function(){
	$('#member').on('click',function(){
		fetch('/Jqpro/MemberList.do')
		.then(function(response){
			if(!response.ok){
				throw new Error(`오류발생 : ${response.status}`);
			}
			return response.json();
		})
		.then((data)=>{
			console.log(data);
			
			let code=`<table class="table"><tr>
				<th>아이디</th>
				<th>이름</th>
				<th>이메일</th>
				<th>전화번호</th>
			</tr>`;
			$.each(data, function(){
				code += `<tr><td>${this.mem_id} </td>
					<td>${this.mem_name}</td>
					<td>${this.mem_mail}</td>
					<td>${this.mem_hp}</td></tr>`;
			})
			code+=`</table>`;
			
			$('#result1').html(code);
		})
	})
})
</script>
</head>
<body>

	<div class="box">
		<h3></h3>
		<input type="button" value="memberList" id="member"> <br> <br>

		<div id="result1"></div>
	</div>
</body>
</html>